## Version 0.2 (BETA, current version - April 2017)

- Available at the MASTER branch.
- Docker containers with .NET Core and Linux images support/tested. Windows Containers are work-in-progress.
- .NET Core 1.1 and EF Core 1.1 support 
- Visual Studio 2017 and .csproj support, including VS Docker Tooling based on docker-compose.yml files supporting multi-container debugging, etc. - CLI and VS Code environments are also supported.
- CLI build process using a Docker ASPNETCore build-image (microsoft/aspnetcore-build) with all the needed SDKs so the compilation takes place in the same container recommended to be used in your CI pipeline (Continuous Integration). No need to have all dependencies in the dev machine when using this method. [Using this CI docker-compose file](https://github.com/dotnet/eShopOnContainers/blob/master/docker-compose.ci.build.yml).
- Initial basic foundational microservice oriented architecture, easy to get started, described in this <a href='docs/architecting-and-developing-containerized-and-microservice-based-net-applications-ebook-early-draft.pdf'>**Guide/eBook** (Early DRAFT, still work in progress)</a>. 

- Support for Windows Containers running on Windows Server Nano using different Docker base images instead of the Linux based images 

- INTEGRATION EVENTS with Event Bus implementations: Implement Event-Driven communication between microservices/containers based on Event Bus interfaces and two implementations:
  1. (Implemented as PoC) Standalone Pub/Subs messaging implementation based on an out-of-proc RabbitMQ Container
  2. (Future version) Azure-attached implementation based on Azure Service Bus using Topics for Pub/Subs
Two integration event scenarios to implement in the app: 
  1. Simple (higher priority): Change Product info (name, image URL, etc.) in the Catalog and update that in the existing Orders and Baskets (all, except the price) 
  2. (Future version) Complex: Events propagating Order's states changes related to the Order-Process SAGA (InProcess, Paid, Handling, Shipped, Canceled if timeout because it was not paid, etc.)

- DOMAIN EVENTS: Implement Domain Events which is related but not the same as integration events for inter-microservice-communication. Domain Events are initially intended to be used within a single microservice's Domain, like communicating state-changes between Aggregates, although they could derive to Integration Events if what happened in a microservice's domain should impact other additional microservices. 
SCENARIOS IMPLEMENTED:
  1. Check price change basket vs. catalog when converting to Order: https://github.com/dotnet/eShopOnContainers/issues/38 
  2. Multiple AGGREGATE changes within the same Command-Handler, decoupled by domain events.

- Resiliency Communication: Resilient synchronous HTTP communication with retry-loops with exponential backoff and circuit-breaker pattern implementations to avoid DDoS initiated by clients. Implementation with Polly: https://github.com/App-vNext/Polly/ OSS lib. 

- Idempotent updates at microservices, so the same update (like OrderCreation) cannot be executed multiple times. Server must implement operations idempotently. An operation is idempotent if it gets the same result when performed multiple times. Implementing idempotency is domain-specific.

- Exception Handling - ASP.NET middleware extension: Business-Exceptions + Generic-Exception-Handler (ExceptionHandlerHandler)

- Command Validations with MediatR Decorator - FluentValidation
https://github.com/JeremySkinner/FluentValidation

- HEALTHCHECKS / Health Check Library (Preview) from the ASP.NET team. It provides: A model of healthcheckresults, A Middleware to return ok/bad, A polling service calling the healthchek service and publishing results (open/pluggable to orchestrators, App Insights, etc.)

- Legacy ASP.NET WebForms client running on a Windows Container (Catalog Manager/Simple CRUD maintenance). Consuming the same Catalog microservice. This is an example of a "lift and shift" scenario.

- Monolithic ASP.NET MVC app (just web app, no microservices) with public area of the eShop (Home page with catalog-view functionality, basically). 
   . Running as a container: https://github.com/dotnet/eShopOnContainers/tree/master/src/Web/WebMonolithic
   . More advanced layered web app: As segregated project available at: https://github.com/dotnet/eShopOnWeb This app is not using Docker containers, just plain web


## Version 0.3 Roadmap (BETA, by May 2017 timeframe)

- INTEGRATION EVENTS (Advanced scenario): Proof of concept of an Order-Process SAGA (Pending, Paid, Handling, Shipped, Canceled if timeout because it was not paid, etc.) as a long running process. It is a of a long running instance of a business process (similar to a workflow but implemented as a class with state persistence). The business process would be the "Order-Process-Saga" workflow, involving multiple mock services like PaymentGateway, StockChecking, etc. while changing the Order's state until the order is shipped. Then a background job which fakes ordre delivery and changes order states to delivered.  

- Create a building block to handle Idempotency in a generic way ([Issue 143](https://github.com/dotnet/eShopOnContainers/issues/143))




## Future versions - Roadmap (After May 2017)
<img src="img/exploring-to-production-ready.png">
- Production-Ready Cloud application with resilient microservices' design and implementation 
   - Deployment to Orchestrators: Kubernetes, Service Fabric, DCOS, Swarm, etc.
   - Monitoring/Diagnostics of microservices based on Application Insights with custom perfkeys

- Service Fabric Stateful Service implementation in the SF branch
- Additional microservice with data stored in a No-SQL database like Azure Document DB
- Gracefully stopping or shutting down microservice instances - Implemented as an ASP.NET Core middleware in the ASP.NET Core pipeline. Drain in-flight requests before stopping the microservice/container process.

- Additional Azure cloud scenarios
  1. Azure Functions: Implement an event-driven Azure Function microservice (i.e. grabbing uploaded images and adding a watermark and putting it into Azure blobs)
  2. Azure Storage Blob: Related to the previous feature - Use Azure Blobs to store the Product Images
  3. Azure App Service: Make the monolithic Web app supporting Azure App Service with Docker

- Real time communication: SignalR Hub microservice/container for real-time communication, like notificating something important that just happened to the user. This feature needs to wait for SignalR to be available in .NET Core 2.0 

- Security:
   - Encrypt secrets at configuration files (like in docker-compose.yml). Multiple possibilities, Azure Key Vault or using simple Certificates at container level, Consul, etc.
   - Other "secure-code" practices
   - Encrypt communication with SSL (related to the specific cloud infrastructure being used)
   - Implement security best practices about app's secrets (conn-strings, env vars, etc.)
    (However, this subject depends on the chosen orchestrator...)
    See when using Swarm: https://blog.docker.com/2017/02/docker-secrets-management/

- Implement example of Optimistic Concurrency updates and optimistic concurrency exceptions

- (To be Confirmed) Nancy: Add a Nancy based microservice, also with DocDB, etc.

- (To be Confirmed) Service Fabric and Azure version
Actor model, stateful services, etc.
- (To be Confirmed) Guide on Kubernetes 
   • Possible "Getting started guide w/ using minikube and eShopOnContainers" -- For MAC dev machine most of all: [Requirements](https://kubernetes.io/docs/getting-started-guides/minikube/#requirements)
   • Possible "Examples using https://github.com/kubernetes/helm"

- (To be Confirmed) Mesos DC/OS version (on Azure Container Service)

- (To be Confirmed) In the Windows Containers fork, implement and add a simple WCF microservice/container implementing any logic like a simulated legacy Payment Gateway, as an example of "lift and shift" scenario.

- (To be Confirmed) Semantic log - Semantic logic - Related to the Azure app version and Application Insight usage
Monitor what microservices are up/down, etc. related to App Insights, but the events are custom
ETW events and "Semantic Application Log" from P&P
Multiple implementations for the storage of the events, Azure Diagnostics, Elastic Search.
Using EventSource base class, etc.

- (To be Confirmed) Composite UI based on microservices.
Including the “UI per microservice”.
References on Composite UI with microservices:

    Composite UI using ASP.NET (Particular’s Workshop) 
    http://bit.ly/particular-microservices 

    The Monolithic Frontend in the Microservices Architecture 
      http://blog.xebia.com/the-monolithic-frontend-in-the-microservices-architecture/ 

    The secret of better UI composition 
      https://particular.net/blog/secret-of-better-ui-composition 

    Including Front-End Web Components Into Microservices 
      https://technologyconversations.com/2015/08/09/including-front-end-web-components-into-microservices/ 

    Managing Frontend in the Microservices Architecture 
      http://allegro.tech/2016/03/Managing-Frontend-in-the-microservices-architecture.html 


      
## Sending feedback and pull requests
We'd appreciate to your feedback, improvements and ideas.
You can create new issues at the issues section, do pull requests and/or send emails to eshop_feedback@service.microsoft.com 


